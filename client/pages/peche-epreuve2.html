<template name="pecheEpreuve2">
  <img id="scenep2" class="scene" src="https://dcn.eestienne.info/kiz/workshop/img/{{imageScene}}" />
  <img id="persop2" src="https://dcn.eestienne.info/kiz/workshop/img/perso.png">
  <div id="chat">
    <div class="pp">
      <img src="https://dcn.eestienne.info/kiz/workshop/img/peche.png" />
      <h4>Peche Refraction</h4>
    </div>
    <p class="msg1">La salle est remplie de caméras ! </p>
    <p class="msg2">Les caméras doivent être désactivées. J'ai trouvé un <a target="_blank" href="https://lejournal.cnrs.fr/billets/les-surprenantes-proprietes-des-metamateriaux">article</a> dans la salle.</p>
    <p class="msg3">Il faut que je passe face aux caméras en utilisant la touche 'V' sinon je ne pourrais pas être invisible </p>
  </div>
  <img id="livretIcon" src="https://dcn.eestienne.info/kiz/workshop/img/livretoff.png" onclick="livretModal()">
  <img id="livret" src="https://dcn.eestienne.info/kiz/workshop/img/schema2.png">


  <!-- Scripts -->
  <script>
  var livretIcon = document.querySelector('#livretIcon'),
  livret = document.querySelector('#livret'),
  modal = "off"

  function livretModal(){
    if (modal == "off"){
      livretIcon.src = "https://dcn.eestienne.info/kiz/workshop/img/livreton.png"
      modal = "on"
      livret.style.right = "0"
    } else {
      livretIcon.src = "https://dcn.eestienne.info/kiz/workshop/img/livretoff.png"
      modal = "off"
      livret.style.right = "-700px"
    }
  }

  var msg1 = document.querySelector('.msg1'),
  msg2 = document.querySelector('.msg2'),
  msg3 = document.querySelector('.msg3')

  setTimeout(function(){
    msg1.style.display = "block"
  }, 1000);
  setTimeout(function(){
    msg2.style.display = "block"
  }, 3000);
  setTimeout(function(){
    msg3.style.display = "block"
  }, 8000);

  var perso = document.querySelector('#persop2'),
  scene = document.querySelector('#scenep2'),
  marginLeft = 0,
  marginTop = 0,
  lock = 'off'

  function hautDroite() {
    marginTop -= 15;
    perso.style.marginTop =  marginTop + 'px';
    marginLeft += 25;
    perso.style.marginLeft =  marginLeft + 'px';
    if ( lock == "on"){
      console.log('hd lock')
    } else {
      perso.src = "https://dcn.eestienne.info/kiz/workshop/img/persohd.gif";
      setTimeout(function(){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      }, 200);
      console.log('hd')
    }
  }

  function stopHautDroite(){
    perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persostop.gif';
    setTimeout(function(){
      perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
    }, 1000);
  }

  function basGauche() {
    marginTop += 15;
    perso.style.marginTop =  marginTop + 'px';
    marginLeft -= 25;
    perso.style.marginLeft =  marginLeft + 'px';
    if ( lock == "on"){
      console.log('bg lock')
    } else {
      perso.src = "https://dcn.eestienne.info/kiz/workshop/img/persobg.gif";
      setTimeout(function(){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      }, 200);
      console.log('bg')
    }
  }

  function stopBasGauche(){
    perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persostop.gif';
    setTimeout(function(){
      perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
    }, 1000);
  }

  function basDroite() {
    marginTop += 15;
    perso.style.marginTop =  marginTop + 'px';
    marginLeft += 25;
    perso.style.marginLeft =  marginLeft + 'px';
    if ( lock == "on"){
      console.log('bd lock')
    } else {
      perso.src = "https://dcn.eestienne.info/kiz/workshop/img/persobd.gif";
      setTimeout(function(){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      }, 200);
      console.log('bd')
    }
  }

  function stopBasDroite(){
    perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persostop.gif';
    setTimeout(function(){
      perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
    }, 1000);
  }

  function hautGauche() {
    marginTop -= 15;
    perso.style.marginTop =  marginTop + 'px';
    marginLeft -= 25;
    perso.style.marginLeft =  marginLeft + 'px';
    if ( lock == "on"){
      console.log('hg lock')
    } else {
      perso.src = "https://dcn.eestienne.info/kiz/workshop/img/persohg.gif";
      setTimeout(function(){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      }, 200);
      console.log('hg')
    }
  }

  function stopHautGauche(){
    perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persostop.gif';
    setTimeout(function(){
      perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
    }, 1000);
  }

  document.onkeydown = checkKey;
  function checkKey(e) {
    // HAUT DROITE
    if (e.keyCode == '38') {
      if (marginTop == 0 && marginLeft == 50){
        perso.src = "https://dcn.eestienne.info/kiz/workshop/img/persohd.png"
      } else if (marginTop == 15 && marginLeft == 75){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 30 && marginLeft == 100){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 45 && marginLeft == 125){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 60 && marginLeft == 150){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 75 && marginLeft == 175){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 90 && marginLeft == 200){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 105 && marginLeft == 225){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 120 && marginLeft == 250){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 135 && marginLeft == 275){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 150 && marginLeft == 300){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 165 && marginLeft == 325){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 180 && marginLeft == 350){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 195 && marginLeft == 375){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == 210 && marginLeft == 400){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'
      } else if (marginTop == -190 && marginLeft == 275){
        perso.src = "https://dcn.eestienne.info/kiz/workshop/img/persohd.png"
      } else {
        hautDroite()
      }
    // BAS GAUCHE
    } else if (e.keyCode == '40') {
      if (marginTop == 0 && marginLeft == 0){
        perso.src = "https://dcn.eestienne.info/kiz/workshop/img/persobg.png"
      } else if (marginTop == 420 && marginLeft == 50){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 405 && marginLeft == 25){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 405 && marginLeft == -25){
        window.location = 'pecheEpreuve3'
      } else if (marginTop == 375 && marginLeft == -25){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 360 && marginLeft == -50){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 345 && marginLeft == -75){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 330 && marginLeft == -100){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 90 && marginLeft == -100){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 105 && marginLeft == -75){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 120 && marginLeft == -50){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 135 && marginLeft == -25){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 150 && marginLeft == 0){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 165 && marginLeft == 25){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 180 && marginLeft == 50){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 195 && marginLeft == 75){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobg.png'
      } else if (marginTop == 75 && marginLeft == -75){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else if (lock == 'on') {
            if (scene.src == 'https://dcn.eestienne.info/kiz/workshop/img/refraction2-cam-on.gif'){
              stopBasGauche()
              lock = 'off'
            } else {
              basGauche()
            }
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasGauche()
        }
      } else if (marginTop == 90 && marginLeft == -50){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else if (lock == 'on') {
            if (scene.src == 'https://dcn.eestienne.info/kiz/workshop/img/refraction2-cam-on.gif'){
              stopBasGauche()
              lock = 'off'
            } else {
              basGauche()
            }
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasGauche()
        }
      } else if (marginTop == 105 && marginLeft == -25){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else if (lock == 'on') {
            if (scene.src == 'https://dcn.eestienne.info/kiz/workshop/img/refraction2-cam-on.gif'){
              stopBasGauche()
              lock = 'off'
            } else {
              basGauche()
            }
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasGauche()
        }
      } else if (marginTop == 105 && marginLeft == 25){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 120 && marginLeft == 50){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 135 && marginLeft == 75){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 150 && marginLeft == 100){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 165 && marginLeft == 125){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 180 && marginLeft == 150){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 195 && marginLeft == 125){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 210 && marginLeft == 200){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 225 && marginLeft == 225){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 240 && marginLeft == 250){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 255 && marginLeft == 275){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else if (marginTop == 270 && marginLeft == 300){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          if (lock == 'off'){
            stopBasGauche()
          } else {
            basGauche()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'){
          stopBasGauche()
        }
      } else {
        basGauche()
      }
    // HAUT GAUCHE
    } else if (e.keyCode == '37') {
      if (marginTop == 0 && marginLeft == 50){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 30 && marginLeft == 0){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 45 && marginLeft == -25){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 60 && marginLeft == -50){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 75 && marginLeft == -75){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 90 && marginLeft == -100){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 225 && marginLeft == 75){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 240 && marginLeft == 50){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 255 && marginLeft == 25){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 270 && marginLeft == 0){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 285 && marginLeft == -25){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 300 && marginLeft == -50){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 315 && marginLeft == -75){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else if (marginTop == 330 && marginLeft == -100){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persohg.png'
      } else {
        hautGauche()
      }
    // BAS DROITE
    } else if (e.keyCode == '39') {
      if (marginTop == 90 && marginLeft == 50){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else if (lock == 'on') {
            if (scene.src == 'https://dcn.eestienne.info/kiz/workshop/img/refraction2-cam-on.gif'){
              stopBasDroite()
              lock = 'off'
            } else {
              basDroite()
            }
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 75 && marginLeft == 75){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else if (lock == 'on') {
            if (scene.src == 'https://dcn.eestienne.info/kiz/workshop/img/refraction2-cam-on.gif'){
              stopBasDroite()
              lock = 'off'
            } else {
              basDroite()
            }
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 60 && marginLeft == 100){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else if (lock == 'on') {
            if (scene.src == 'https://dcn.eestienne.info/kiz/workshop/img/refraction2-cam-on.gif'){
              stopBasDroite()
              lock = 'off'
            } else {
              basDroite()
            }
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 45 && marginLeft == 125){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else if (lock == 'on') {
            if (scene.src == 'https://dcn.eestienne.info/kiz/workshop/img/refraction2-cam-on.gif'){
              stopBasDroite()
              lock = 'off'
            } else {
              basDroite()
            }
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 30 && marginLeft == 100){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else if (lock == 'on') {
            if (scene.src == 'https://dcn.eestienne.info/kiz/workshop/img/refraction2-cam-on.gif'){
              stopBasDroite()
              lock = 'off'
            } else {
              basDroite()
            }
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 105 && marginLeft == 25){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else {
            basDroite()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 120 && marginLeft == 0){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else {
            basDroite()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 105 && marginLeft == -25){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else if (lock == 'on') {
            if (scene.src == 'https://dcn.eestienne.info/kiz/workshop/img/refraction2-cam-on.gif'){
              stopBasDroite()
              lock = 'off'
            } else {
              basDroite()
            }
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 180 && marginLeft == 150){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else {
            basDroite()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 195 && marginLeft == 175){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else {
            basDroite()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 180 && marginLeft == 150){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else {
            basDroite()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 165 && marginLeft == 175){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else {
            basDroite()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 150 && marginLeft == 200){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else {
            basDroite()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 135 && marginLeft == 225){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else {
            basDroite()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 120 && marginLeft == 250){
        if (perso.src == 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          if (lock == 'off'){
            stopBasDroite()
          } else {
            basDroite()
          }
        } else if (perso.src !== 'https://dcn.eestienne.info/kiz/workshop/img/persohd.png'){
          stopBasDroite()
        }
      } else if (marginTop == 210 && marginLeft == 400){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 225 && marginLeft == 375){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 240 && marginLeft == 350){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 255 && marginLeft == 325){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 270 && marginLeft == 300){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 285 && marginLeft == 275){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 300 && marginLeft == 250){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 315 && marginLeft == 225){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 330 && marginLeft == 200){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 345 && marginLeft == 175){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 360 && marginLeft == 150){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 375 && marginLeft == 125){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 390 && marginLeft == 100){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 405 && marginLeft == 75){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == 420 && marginLeft == 50){
        perso.src = 'https://dcn.eestienne.info/kiz/workshop/img/persobd.png'
      } else if (marginTop == -30 && marginLeft == 150) {
        if (scene.src == 'https://dcn.eestienne.info/kiz/workshop/img/refraction1_600nm.gif'){
          basDroite()
        } else {
          stopBasDroite()
        }
      } else {
        basDroite()
      }
    } else if (e.keyCode == '86'){
      if ( lock == 'off'){
        lock = "on";
        console.log('switch lock on')
      } else {
        lock = "off";
        console.log('switch lock off')
      }
    }
  }
  </script>
</template>