<template name="pecheEpreuve3b">
  <img id="scenep3b" class="scene" src="/img/puzzle0.gif"/>
  <img id="infop3b" src="/img/infop3b.png" />
  <img id="infop3bicon" src="/img/infop3b.gif" />
  <div id="chat">
    <div class="pp">
      <img src="/img/peche.png" />
      <h4>Peche Refraction</h4>
    </div>
    <p class="msg1">À l'aide de ces matériaux je devrais pouvoir m'en sortir</p>
    <p class="msg2">Dans quel ordre ça se met déjà ?</p>
    <p class="msg3">Il me semble que cela se construit comme un sandwich </p>
  </div>
  <!-- <img id="livretIcon" src="/img/livretoff.png" onclick="livretModal()">
  <img id="livret" src="/img/schema3.png"> -->
  <img id="scratch" src="/img/scratch.gif">
  <div id="puzzleElements">
    <div id="puzzleEl1"></div>
    <div id="puzzleEl2"></div>
    <div id="puzzleEl3"></div>
    <div id="puzzleEl4"></div>
    <div id="puzzleEl5"></div>
    <div id="puzzleEl6"></div>
    <div id="puzzleEl7"></div>
  </div>


  <!-- Scripts -->
  <script>
  var scene = document.querySelector('#scenep3b'),
  puzzleEl1 = document.querySelector('#puzzleEl1'),
  puzzleEl2 = document.querySelector('#puzzleEl2'),
  puzzleEl3 = document.querySelector('#puzzleEl3'),
  puzzleEl4 = document.querySelector('#puzzleEl4'),
  puzzleEl5 = document.querySelector('#puzzleEl5'),
  puzzleEl6 = document.querySelector('#puzzleEl6'),
  puzzleEl7 = document.querySelector('#puzzleEl7')

  puzzleEl1.onclick = function(){
    if (scene.src == "http://3.19.114.131:3000/img/puzzle.gif"){
      alert('nope')
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle1ok.gif"){
      scene.src = '/img/puzzle1nok.gif'
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle2nok.gif"){
      scene.src = '/img/puzzle3ok.gif'
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle2ok.gif"){
      scene.src = '/img/puzzle3ok.gif'
      setTimeout(function(){
        window.close()
      }, 1000);
    }
  }

  puzzleEl2.onclick = function(){
    if (scene.src == "http://3.19.114.131:3000/img/puzzle.gif"){
      alert('nope')
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle1ok.gif"){
      scene.src = '/img/puzzle1nok.gif'
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle2ok.gif"){
      scene.src = '/img/puzzle2nok.gif'
    }
  }

  puzzleEl3.onclick = function(){
    if (scene.src == "http://3.19.114.131:3000/img/puzzle.gif"){
      alert('nope')
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle1ok.gif"){
      scene.src = '/img/puzzle2ok.gif'
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle1nok.gif"){
      scene.src = '/img/puzzle2ok.gif'
    }
  }

  puzzleEl4.onclick = function(){
    if (scene.src == "http://3.19.114.131:3000/img/puzzle.gif"){
      alert('nope')
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle1ok.gif"){
      scene.src = '/img/puzzle1nok.gif'
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle2ok.gif"){
      scene.src = '/img/puzzle2nok.gif'
    }
  }

  puzzleEl5.onclick = function(){
    if (scene.src == "http://3.19.114.131:3000/img/puzzle0.gif"){
      scene.src = '/img/puzzle1ok.gif'
    }
  }

  puzzleEl7.onclick = function(){
    if (scene.src == "http://3.19.114.131:3000/img/puzzle.gif"){
      alert('nope')
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle1ok.gif"){
      scene.src = '/img/puzzle1nok.gif'
    } else if (scene.src == "http://3.19.114.131:3000/img/puzzle2ok.gif"){
      scene.src = '/img/puzzle2nok.gif'
    }
  }

  var scratch = document.querySelector('#scratch'),
  cape = 'on'

  var livretIcon = document.querySelector('#livretIcon'),
  livret = document.querySelector('#livret'),
  modal = "off"

  function livretModal(){
    if (modal == "off"){
      livretIcon.src = "/img/livreton.png"
      modal = "on"
      livret.style.right = "0"
    } else {
      livretIcon.src = "/img/livretoff.png"
      modal = "off"
      livret.style.right = "-700px"
    }
  }

  var msg1 = document.querySelector('.msg1'),
  msg2 = document.querySelector('.msg2'),
  msg3 = document.querySelector('.msg3')

  setTimeout(function(){
    msg1.style.display = "block"
  }, 1000);
  setTimeout(function(){
    msg2.style.display = "block"
  }, 3000);
  setTimeout(function(){
    msg3.style.display = "block"
  }, 6000);
  </script>
</template>